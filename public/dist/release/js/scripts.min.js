function HttpClient(e=!0){function t(t,n=e){if(t)return new Promise(function(e,o){function i(n){n&&(t.headers=t.headers||{},t.headers.Authorization="Bearer "+n),$.ajax(t).done(function(t){e(t)}).catch(function(e){o(e.responseText)})}n?window.tscLib.userService.getToken().then(function(e){i(e)}).catch(e=>{console.log("Invalid user",e),o(e)}):i()})}var n=this;n.get=function(n,o=e){return t({url:n,method:"GET"},o)},n.post=function(n,o,i=e){return t({url:n,method:"POST",data:o},i)},n.put=function(n,o,i=e){return t({url:n,method:"PUT",data:o},i)},n.patch=function(n,o=e){return t({url:n,method:"PATCH",data:data},o)},n.delete=function(n,o=e){return t({url:n,method:"DELETE"},o)},n.options=function(e,n=!1){return t({url:e,method:"OPTIONS"},n)}}function Loader(){}function setViewport(){let e=$("#viewport-div");e.length<1&&(e=$(`<div id="viewport-div">\n    <i id="viewport-xs" class="d-block d-sm-none"></i>\n    <i id="viewport-sm" class="d-none d-sm-block d-md-none"></i>\n    <i id="viewport-md"  class="d-none d-md-block d-lg-none"></i>\n    <i id="viewport-lg"  class="d-none d-lg-block d-xl-none"></i>\n    <i id="viewport-xl" class="d-none d-xl-block"></i>\n    </div>`),$("body").append(e)),$.each(viewport,function(e,t){viewport[e]=$("#viewport-"+e).is(":visible"),viewport[e]&&$("body").attr("data-viewport",e)}),console.log("viewport",viewport)}function RestClient(e,t=!0,n=!0){var o=this,i=new HttpClient(t),r=n?"?use_sandbox=true":"";o.findById=function(t){return i.get(`${e}/${t}${r}`)},o.find=function(){return i.get(e+r)},o.create=function(t){return i.post(e+r,t)},o.update=function(t,n){return i.put(`${e}/${t}${r}`,n)},o.merge=function(t,n){return i.patch(`${e}/${t}${r}`,n)},o.delete=function(t){return i.delete(`${e}/${t}${r}`)},o.upsert=function(e,t){return new Promise(function(n,i){o.update(e,t).then(n).catch(function(e){o.create(t).then(n).catch(i)})})}}function parseContentData(e,t){re=/{{([^}]*)}}/g;var n=e,o=n.match(re);return $.each(o,function(e,o){properyName=$.trim(o.replace("{{","").replace("}}",""));var i=t[properyName]||"";n=n.replace(o,i)}),n}window.tscLib=window.tscLib||{},window.tscLib.main=window.tscLib.main||{},window.tscLib.main.templates=[];var api_base_url="https://api.topeysoft.com/cms-api/projects/"+project_id;Loader.present=function(e){e=e||{};let t={bock_interaction:!0,text:"Loading...",identifier:"main-loader",translucent:!1,type:"inline",auto_exit:!1,parent:"body"};$.extend(t,e);let n=$(parent).find("#loader-div");return n.length<1&&(n=$(`<div id="loader-div" class="">\n        <div class="wrapper d-inlne align-middle text-center">\n            <img src="https://s3-us-west-2.amazonaws.com/tscdms/shared/loaders/earth-64.png" /><br />\n            <div id="loader-text" class="loader-text"></div>\n        </div>\n        </div>`).appendTo(t.parent)),n.find("#loader-text").html(t.text),n.addClass(t.identifier),n.attr("data-id",t.identifier),n.attr("data-type",t.type),t.translucent?n.removeClass("translucent"):n.addClass("translucent"),n.show(),t.auto_exit&&"number"==typeof auto_exit&&setTimeout(function(){n.hide()},t.auto_exit),n},Loader.presentInline=function(e){e=e||{};let t={bock_interaction:!1,type:"inline"};return $.extend(t,e),Loader.present(t)},Loader.presentFullScreen=function(e){e=e||{};let t={bock_interaction:!1,type:"full-screen"};return $.extend(t,e),Loader.present(t)},Loader.presentCover=function(e){e=e||{};let t={bock_interaction:!1,type:"cover"};return $.extend(t,e),Loader.present(t)},Loader.hideAll=function(){$("#loader-div").hide()},Loader.hide=function(e="main-loader"){$('#loader-div[data-id="'+e+'"]').hide()};var viewport={xs:!0,sm:!0,md:!0,lg:!0,xl:!0};!function(e){setViewport(),e.extend({stickToBottom:function(t){let n={css_class:"fixed",scrollSelector:"body"};e.extend(n,t),e(document.body).on("scroll",function(){try{var t=e(n.scrollSelector),o=e(n.stickySelector),i=-o.innerHeight();t.offset().top+t.outerHeight()<=window.scrollY+e(window).innerHeight()+i?o.removeClass(n.css_class).removeClass("fixed-bottom"):o.addClass(n.css_class).addClass("fixed-bottom")}catch(e){console.log(e)}})}}),e.stickToBottom({scrollSelector:"#form-wizard #fix-break-point",stickySelector:"#form-wizard .wizard-footer",css_class:"z-depth-2"}),e("body").on("click",".main-menu-toggle",function(t){e("body").toggleClass("show-menu")}),e(window).on("resize",function(e){setViewport()})}(jQuery);